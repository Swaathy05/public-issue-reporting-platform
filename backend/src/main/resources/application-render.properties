# Render Deployment Configuration

# Database Configuration (Render provides PostgreSQL)
# Render sets these environment variables automatically:
# DATABASE_URL format: postgresql://user:password@host:port/dbname
# Or individual: DB_HOST, DB_PORT, DB_NAME, DB_USER, DB_PASSWORD
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:public_service_issues}?sslmode=require
spring.datasource.username=${DB_USER:public_service_user}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false

# Server Configuration
server.port=${PORT:8080}

# JWT Configuration (use Render environment variable or default)
jwt.secret=${JWT_SECRET:Kp7Gx9Vw3Qz1Lm5Nn8Br2Ty6Ux4Za7Cd9Fe1Hg3Jk5Mn7Pq9Rs2Tu4Wv6Xy8Za0Bc2De4Fg6Hi8Jk0L}
jwt.expiration=86400000

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# File Storage Configuration (Render uses persistent disk)
# Use persistent disk path for Render deployments
# The persistent disk is mounted at /opt/render/project/src/uploads
# For Render, set UPLOAD_DIR environment variable in Render dashboard or use default
# Note: Path should end with / for proper path handling
file.upload-dir=${UPLOAD_DIR:/opt/render/project/src/uploads/}

# CORS Configuration (update with your Render domain)
cors.allowed-origins=${CORS_ORIGINS:https://your-app.onrender.com}

# Email Configuration (optional - set via Render environment variables)
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Actuator Configuration
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

