# Railway Deployment Configuration

# Database Configuration (Railway provides PostgreSQL by default)
# Railway provides these environment variables automatically when you add PostgreSQL:
# PGHOST, PGPORT, PGDATABASE, PGUSER, PGPASSWORD
spring.datasource.url=jdbc:postgresql://${PGHOST:localhost}:${PGPORT:5432}/${PGDATABASE:public_service_issues}?sslmode=require
spring.datasource.username=${PGUSER:postgres}
spring.datasource.password=${PGPASSWORD:}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false

# Server Configuration
server.port=${PORT:8080}

# JWT Configuration (use Railway environment variable or default)
jwt.secret=${JWT_SECRET:Kp7Gx9Vw3Qz1Lm5Nn8Br2Ty6Ux4Za7Cd9Fe1Hg3Jk5Mn7Pq9Rs2Tu4Wv6Xy8Za0Bc2De4Fg6Hi8Jk0L}
jwt.expiration=86400000

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# File Storage Configuration (Railway uses ephemeral storage)
file.upload-dir=uploads/

# CORS Configuration (update with your Railway domain)
cors.allowed-origins=${CORS_ORIGINS:https://your-app.railway.app}

# Email Configuration (optional - set via Railway environment variables)
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Actuator Configuration
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

